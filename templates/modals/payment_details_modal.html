<!-- admin_orders_management/templates/modals/payment_details_modal.html -->
<div class="modal fade" id="paymentDetailsModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title">
                    <i class="fas fa-credit-card me-2"></i>
                    Payment Details
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="text-center py-5">
                    <div class="loading-spinner"></div>
                    <p class="mt-3">Loading payment details...</p>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                    Close
                </button>
                <button type="button" class="btn btn-primary" onclick="savePaymentDetails()">
                    <i class="fas fa-save"></i> Save Changes
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Payment Details Template -->
<template id="paymentDetailsTemplate">
    <div class="payment-details">
        <div class="row mb-4">
            <div class="col-md-8">
                <h5>Payment Details</h5>
                <p class="text-muted mb-0">
                    Order #<span id="paymentOrderId"></span> | 
                    Customer: <span id="paymentCustomerName"></span>
                </p>
            </div>
            <div class="col-md-4 text-end">
                <span class="badge" id="paymentStatusBadge">
                    <span id="paymentStatusText"></span>
                </span>
            </div>
        </div>
        
        <div class="card">
            <div class="card-body">
                <table class="table table-borderless">
                    <tr>
                        <th width="40%">Payment Amount:</th>
                        <td>
                            <strong id="paymentAmount">â‚¹0.00</strong>
                        </td>
                    </tr>
                    <tr>
                        <th>Payment Mode:</th>
                        <td id="paymentMode">N/A</td>
                    </tr>
                    <tr>
                        <th>Payment Status:</th>
                        <td>
                            <select id="paymentStatusSelect" class="form-select form-select-sm w-auto d-inline-block">
                                <option value="pending">Pending</option>
                                <option value="completed">Completed</option>
                                <option value="failed">Failed</option>
                                <option value="refunded">Refunded</option>
                                <option value="cancelled">Cancelled</option>
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <th>Transaction ID:</th>
                        <td>
                            <div class="input-group input-group-sm w-75">
                                <input type="text" 
                                       id="transactionIdInput" 
                                       class="form-control" 
                                       placeholder="Enter transaction ID">
                            </div>
                        </td>
                    </tr>
                    <tr id="paymentDateRow">
                        <th>Payment Date:</th>
                        <td id="paymentDate">N/A</td>
                    </tr>
                    <tr id="razorpayOrderIdRow">
                        <th>Razorpay Order ID:</th>
                        <td>
                            <code id="razorpayOrderId">N/A</code>
                        </td>
                    </tr>
                    <tr id="razorpayPaymentIdRow">
                        <th>Razorpay Payment ID:</th>
                        <td>
                            <code id="razorpayPaymentId">N/A</code>
                        </td>
                    </tr>
                    <tr id="razorpaySignatureRow">
                        <th>Razorpay Signature:</th>
                        <td>
                            <code id="razorpaySignature" class="small">N/A</code>
                        </td>
                    </tr>
                </table>
                
                <div class="alert alert-info mt-4">
                    <i class="fas fa-info-circle me-2"></i>
                    <strong>Note:</strong> Changes to payment status will be logged in the system.
                </div>
            </div>
        </div>
    </div>
</template>
